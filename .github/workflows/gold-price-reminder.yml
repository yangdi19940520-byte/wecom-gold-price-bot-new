# 金价提醒机器人定时任务配置
name: Gold Price Reminder

# 触发规则：手动触发 + 每天9点（北京时间）自动触发
on:
  workflow_dispatch:  # 手动触发（保留，方便测试）
  schedule:
    - cron: '0 1 * * *'  # UTC时间1点 = 北京时间9点，每天运行一次

# 运行环境和步骤
jobs:
  send-gold-price-reminder:
    runs-on: ubuntu-latest
    steps:
      # 1. 拉取仓库代码
      - name: Checkout code
        uses: actions/checkout@v4
      
      # 2. 设置Python环境
      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.10'  # 稳定版Python
      
      # 3. 安装依赖（仅需requests）
      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install requests
      
      # 4. 执行金价提醒脚本
      - name: Run gold price reminder script
        run: python gold_price_bot.py
